"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[823],{5823:(A,d,i)=>{i.r(d),i.d(d,{LoginModule:()=>v});var m=i(9808),l=i(268),u=i(5861),r=i(4182),p=i(5226),g=i.n(p),o=i(2096),c=i(4485),f=i(2557);const h=[{path:"",component:(()=>{class t{constructor(n,e,a){this.spinner=n,this.auth=e,this.route=a,this.loginForm=new r.cw({department_number:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])}),this.is_submitted=!1}ngOnInit(){$(function(){$("body").removeClass(),$("body").addClass("hold-transition login-page")})}get form_ctl(){return this.loginForm.controls}login(){var n=this;return(0,u.Z)(function*(){if(n.loginForm.valid){n.is_submitted=!0,n.spinner.show();const e=yield n.auth.login(n.loginForm.value).toPromise().catch(a=>{g().fire("Error",a.message,"error"),n.spinner.hide()});e.access_token?(yield Promise.resolve().then(()=>{localStorage.setItem("ACCESS_TOKEN",e.access_token),localStorage.setItem("USER",JSON.stringify(e.user))}),n.route.navigateByUrl("/home/dashboard")):g().fire("Error",e.error,"error"),n.spinner.hide()}})()}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(c.t2),o.Y36(f.e),o.Y36(l.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:26,vars:5,consts:[[2,"width","auto","height","auto","background","#656788"],[1,"login-box",2,"width","100%","height","auto"],[1,"card","card-outline","card-primary"],[1,"card-header","text-center"],["src","client/assets/logo.png","alt","","width","450",1,"img-fluid"],["src","client/assets/undraw.png","alt","","width","250",1,"img-fluid"],[1,"text-secondary",2,"font-weight","bold"],[1,"card-body"],[1,"login-box-msg","font-weight-bold"],["method","post",3,"formGroup","submit"],[1,"input-group","mb-3"],["type","text","placeholder","Employee Code","formControlName","department_number","required","",1,"form-control",3,"ngClass"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-envelope"],["type","password","placeholder","Password","formControlName","password","required","",1,"form-control",3,"ngClass"],[1,"fas","fa-lock"],[1,"row"],[1,"col-4"],["type","submit",1,"btn","btn-primary","btn-block"]],template:function(n,e){1&n&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o._UZ(5,"img",5),o.TgZ(6,"h2",6),o._uU(7," Loyola Academic Assessment and Attainment Package - (LAAAP) "),o.qZA(),o.qZA(),o.TgZ(8,"div",7),o.TgZ(9,"p",8),o._uU(10,"Login to Continue"),o.qZA(),o.TgZ(11,"form",9),o.NdJ("submit",function(){return e.login()}),o.TgZ(12,"div",10),o._UZ(13,"input",11),o.TgZ(14,"div",12),o.TgZ(15,"div",13),o._UZ(16,"span",14),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",10),o._UZ(18,"input",15),o.TgZ(19,"div",12),o.TgZ(20,"div",13),o._UZ(21,"span",16),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",17),o.TgZ(23,"div",18),o.TgZ(24,"button",19),o._uU(25," Sign In "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(11),o.Q6J("formGroup",e.loginForm),o.xp6(2),o.Q6J("ngClass",(e.form_ctl.department_number.dirty||e.form_ctl.department_number.touched)&&e.form_ctl.department_number.errors?"is-invalid":"")("ngClass",e.is_submitted&&e.form_ctl.department_number.errors?"is-invalid":""),o.xp6(5),o.Q6J("ngClass",(e.form_ctl.password.dirty||e.form_ctl.password.touched)&&e.form_ctl.password.errors?"is-invalid":"")("ngClass",e.is_submitted&&e.form_ctl.password.errors?"is-invalid":""))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,m.mk],styles:[""]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[l.Bz.forChild(h)],l.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[m.ez,r.UX,Z]]}),t})()}}]);