"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[277],{4277:(ze,$,u)=>{u.d($,{P4:()=>xe,Wt:()=>Oe});var b=u(8929),z=u(2654);class k extends z.w{constructor(t,e){super()}schedule(t,e=0){return this}}class _ extends k{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(s){i=!0,n=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let W=(()=>{class r{constructor(e,i=r.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,n){return new this.SchedulerAction(this,e).schedule(n,i)}}return r.now=()=>Date.now(),r})();class g extends W{constructor(t,e=W.now){super(t,()=>g.delegate&&g.delegate!==this?g.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return g.delegate&&g.delegate!==this?g.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Q=new class K extends g{}(class H extends _{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});var D=u(3489),U=u(8896),E=u(1086),C=u(2916);function J({error:r,subscriber:t}){t.error(r)}class f{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return(0,E.of)(this.value);case"E":return function X(r,t){return new C.y(t?e=>t.schedule(J,0,{error:r,subscriber:e}):e=>e.error(r))}(this.error);case"C":return(0,U.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new f("N",t):f.undefinedValueNotification}static createError(t){return new f("E",void 0,t)}static createComplete(){return f.completeNotification}}f.completeNotification=new f("C"),f.undefinedValueNotification=new f("N",void 0);class S extends D.L{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(S.dispatch,this.delay,new q(t,this.destination)))}_next(t){this.scheduleMessage(f.createNext(t))}_error(t){this.scheduleMessage(f.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(f.createComplete()),this.unsubscribe()}}class q{constructor(t,e){this.notification=t,this.destination=e}}var ee=u(5279),te=u(5283);class x extends b.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new re(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;let a;if(this.closed)throw new ee.N;if(this.isStopped||this.hasError?a=z.w.EMPTY:(this.observers.push(t),a=new te.W(this,t)),n&&t.add(t=new S(t,n)),e)for(let h=0;h<s&&!t.closed;h++)t.next(i[h]);else for(let h=0;h<s&&!t.closed;h++)t.next(i[h].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a}_getNow(){return(this.scheduler||Q).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,s=n.length;let a=0;for(;a<s&&!(t-n[a].time<i);)a++;return s>e&&(a=Math.max(a,s-e)),a>0&&n.splice(0,a),n}}class re{constructor(t,e){this.time=t,this.value=e}}var ie=u(6688),ne=u(7043),I=u(4850);function A(r,t,e,i){return(0,ne.m)(e)&&(i=e,e=void 0),i?A(r,t,e).pipe((0,I.U)(n=>(0,ie.k)(n)?i(...n):i(n))):new C.y(n=>{R(r,t,function s(a){n.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},n,e)})}function R(r,t,e,i,n){let s;if(function oe(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const a=r;r.addEventListener(t,e,n),s=()=>a.removeEventListener(t,e,n)}else if(function ae(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const a=r;r.on(t,e),s=()=>a.off(t,e)}else if(function se(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const a=r;r.addListener(t,e),s=()=>a.removeListener(t,e)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let a=0,h=r.length;a<h;a++)R(r[a],t,e,i,n)}i.add(s)}var G=u(3426),o=u(2096);const ce=new g(_);class le{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ue(t,this.dueTime,this.scheduler))}}class ue extends D.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(de,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function de(r){r.debouncedNext()}var pe=u(1709),fe=u(7545);const P=["*"];var l=(()=>{return(r=l||(l={})).AnnotationChart="AnnotationChart",r.AreaChart="AreaChart",r.Bar="Bar",r.BarChart="BarChart",r.BubbleChart="BubbleChart",r.Calendar="Calendar",r.CandlestickChart="CandlestickChart",r.ColumnChart="ColumnChart",r.ComboChart="ComboChart",r.PieChart="PieChart",r.Gantt="Gantt",r.Gauge="Gauge",r.GeoChart="GeoChart",r.Histogram="Histogram",r.Line="Line",r.LineChart="LineChart",r.Map="Map",r.OrgChart="OrgChart",r.Sankey="Sankey",r.Scatter="Scatter",r.ScatterChart="ScatterChart",r.SteppedAreaChart="SteppedAreaChart",r.Table="Table",r.Timeline="Timeline",r.TreeMap="TreeMap",r.WordTree="wordtree",l;var r})();const ye={[l.AnnotationChart]:"annotationchart",[l.AreaChart]:"corechart",[l.Bar]:"bar",[l.BarChart]:"corechart",[l.BubbleChart]:"corechart",[l.Calendar]:"calendar",[l.CandlestickChart]:"corechart",[l.ColumnChart]:"corechart",[l.ComboChart]:"corechart",[l.PieChart]:"corechart",[l.Gantt]:"gantt",[l.Gauge]:"gauge",[l.GeoChart]:"geochart",[l.Histogram]:"corechart",[l.Line]:"line",[l.LineChart]:"corechart",[l.Map]:"map",[l.OrgChart]:"orgchart",[l.Sankey]:"sankey",[l.Scatter]:"scatter",[l.ScatterChart]:"corechart",[l.SteppedAreaChart]:"corechart",[l.Table]:"table",[l.Timeline]:"timeline",[l.TreeMap]:"treemap",[l.WordTree]:"wordtree"},Y=new o.OlP("GOOGLE_CHARTS_CONFIG"),Ce=new o.OlP("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{const r=(0,o.f3M)(Y,o.XFs.Optional);return(0,E.of)(Object.assign(Object.assign({},{version:"current",safeMode:!1}),r||{}))}});let m=(()=>{class r{constructor(e,i,n){this.zone=e,this.localeId=i,this.config$=n,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new b.xQ}isGoogleChartsAvailable(){return!("undefined"==typeof google||void 0===google.charts)}loadChartPackages(...e){return this.loadGoogleCharts().pipe((0,pe.zg)(()=>this.config$),(0,I.U)(i=>Object.assign(Object.assign({},{version:"current",safeMode:!1}),i||{})),(0,fe.w)(i=>new C.y(n=>{google.charts.load(i.version,{packages:e,language:this.localeId,mapsApiKey:i.mapsApiKey,safeMode:i.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{n.next(),n.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return(0,E.of)(null);if(!this.isLoadingGoogleCharts()){const e=this.createGoogleChartsScript();e.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},e.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(i=>i.src===this.scriptSource)}createGoogleChartsScript(){const e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}}return r.\u0275fac=function(e){return new(e||r)(o.LFG(o.R0b),o.LFG(o.soG),o.LFG(Ce))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),V=(()=>{class r{create(e,i,n){if(null==e)return;let s=!0;null!=i&&(s=!1);const a=google.visualization.arrayToDataTable(this.getDataAsTable(e,i),s);return n&&this.applyFormatters(a,n),a}getDataAsTable(e,i){return i?[i,...e]:e}applyFormatters(e,i){for(const n of i)n.formatter.format(e,n.colIndex)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),Te=(()=>{class r{constructor(e){this.loaderService=e,this.error=new o.vpe,this.ready=new o.vpe,this.stateChange=new o.vpe,this.id=function Se(){return"_"+Math.random().toString(36).substr(2,9)}(),this.wrapperReadySubject=new x(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(e){!this._controlWrapper||(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options||{}),e.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",e=>this.ready.emit(e)),google.visualization.events.addListener(this._controlWrapper,"error",e=>this.error.emit(e)),google.visualization.events.addListener(this._controlWrapper,"statechange",e=>this.stateChange.emit(e))}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(m))},r.\u0275cmp=o.Xpm({type:r,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[o.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),r})(),Ee=(()=>{class r{constructor(e,i,n){this.element=e,this.loaderService=i,this.dataTableService=n,this.ready=new o.vpe,this.error=new o.vpe,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(e){!this.initialized||(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){const e=this.controlWrappers.map(n=>n.wrapperReady$),i=this.controlWrappers.map(n=>n.for).map(n=>Array.isArray(n)?(0,G.aj)(n.map(s=>s.wrapperReady$)):n.wrapperReady$);(0,G.aj)([...e,...i]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);const e=(i,n,s)=>{google.visualization.events.addListener(i,n,s)};e(this.dashboard,"ready",()=>this.ready.emit()),e(this.dashboard,"error",i=>this.error.emit(i))}initializeBindings(){this.controlWrappers.forEach(e=>{if(Array.isArray(e.for)){const i=e.for.map(n=>n.chartWrapper);this.dashboard.bind(e.controlWrapper,i)}else this.dashboard.bind(e.controlWrapper,e.for.chartWrapper)})}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(o.SBq),o.Y36(m),o.Y36(V))},r.\u0275cmp=o.Xpm({type:r,selectors:[["dashboard"]],contentQueries:function(e,i,n){if(1&e&&o.Suo(n,Te,4),2&e){let s;o.iGM(s=o.CRH())&&(i.controlWrappers=s)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[o.TTD],ngContentSelectors:P,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),xe=(()=>{class r{constructor(e,i,n,s){this.element=e,this.scriptLoaderService=i,this.dataTableService=n,this.dashboard=s,this.options={},this.dynamicResize=!1,this.ready=new o.vpe,this.error=new o.vpe,this.select=new o.vpe,this.mouseover=new o.vpe,this.mouseleave=new o.vpe,this.wrapperReadySubject=new x(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(e){this.wrapper=e,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(function be(r){return ye[r]}(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){let i=!1;(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),i=!0),e.type&&(this.wrapper.setChartType(this.type),i=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),i=!0),i&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(e,i){const n=this.registerChartEvent(this.chart,e,i);return this.eventListeners.set(n,{eventName:e,callback:i,handle:n}),n}removeEventListener(e){const i=this.eventListeners.get(e);i&&(google.visualization.events.removeListener(i.handle),this.eventListeners.delete(e))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=A(window,"resize",{passive:!0}).pipe(function he(r,t=ce){return e=>e.lift(new le(r,t))}(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",e=>this.mouseover.emit(e)),this.registerChartEvent(this.chart,"onmouseout",e=>this.mouseleave.emit(e)),this.registerChartEvent(this.chart,"select",()=>{const e=this.chart.getSelection();this.select.emit({selection:e})}),this.eventListeners.forEach(e=>e.handle=this.registerChartEvent(this.chart,e.eventName,e.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",e=>this.error.emit(e))}registerChartEvent(e,i,n){return google.visualization.events.addListener(e,i,n)}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(o.SBq),o.Y36(m),o.Y36(V),o.Y36(Ee,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[o.TTD],decls:0,vars:0,template:function(e,i){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),r})(),Oe=(()=>{class r{static forRoot(e={}){return{ngModule:r,providers:[{provide:Y,useValue:e}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[m]}),r})()}}]);